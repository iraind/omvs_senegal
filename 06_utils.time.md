# Time


> The objective of this notebook is to implement utilities to ease the
> time handling

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## Forecast time handling

Time series forecasting often involves multiple time indices (e.g., run
time and forecast time) which can lead to alignment errors if not
handled carefully. This class provides a unified way to manage these
indices and prevent common mistakes in forecast data manipulation. The
class provides methods to convert between two indexing ways:

- Forecast horizons as columns (e.g., t+1, t+2 columns)
- Forecast horizons and times as row indices

The first format is convenient for saving data, while the second is
better suited for scoring and plotting since it explicitly tracks the
actual forecast times.

------------------------------------------------------------------------

<a
href="https://github.com/iraind/omvs_senegal/blob/main/omvs_senegal/utils/time.py#L11"
target="_blank" style="float:right; font-size:smaller">source</a>

### ForecastTimeHandler

>  ForecastTimeHandler (run_time_col_name:str='run_time',
>                           stack_col_name:str='pred')

\*A utility class for handling forecast time transformations.

This class provides functionality to manipulate forecast time between
different formats, specifically handling the conversion between columnar
forecast horizons and stacked time series formats. It manages forecast
horizons (e.g., ‘t+1’, ‘t+2’) and their corresponding timestamps.\*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>run_time_col_name</td>
<td>str</td>
<td>run_time</td>
<td>Name of the time index that represent the time from which the
forecast is made</td>
</tr>
<tr>
<td>stack_col_name</td>
<td>str</td>
<td>pred</td>
<td>Name of the column when columns are stacked</td>
</tr>
</tbody>
</table>

We will first create some syntethic data

``` python
forecast, observations = create_test_data()
forecast.head(3)
```

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&#10;    .dataframe tbody tr th {
        vertical-align: top;
    }
&#10;    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">t+1</th>
<th data-quarto-table-cell-role="th">t+2</th>
<th data-quarto-table-cell-role="th">t+3</th>
</tr>
<tr>
<th data-quarto-table-cell-role="th">run_time</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr>
<td data-quarto-table-cell-role="th">2023-01-01</td>
<td>99.727885</td>
<td>24.053605</td>
<td>31.289456</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">2023-01-02</td>
<td>55.554807</td>
<td>86.473046</td>
<td>59.983036</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">2023-01-03</td>
<td>39.305022</td>
<td>15.843067</td>
<td>66.079883</td>
</tr>
</tbody>
</table>

</div>

``` python
observations.head(3)
```

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&#10;    .dataframe tbody tr th {
        vertical-align: top;
    }
&#10;    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">obs</th>
</tr>
<tr>
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr>
<td data-quarto-table-cell-role="th">2023-01-03</td>
<td>18.829447</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">2023-01-04</td>
<td>17.564888</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">2023-01-05</td>
<td>10.355245</td>
</tr>
</tbody>
</table>

</div>

We will now create an instance of the ForecastTimeHandler class

``` python
time_handler = ForecastTimeHandler(run_time_col_name="run_time", stack_col_name="pred")
```

------------------------------------------------------------------------

<a
href="https://github.com/iraind/omvs_senegal/blob/main/omvs_senegal/utils/time.py#L27"
target="_blank" style="float:right; font-size:smaller">source</a>

### ForecastTimeHandler.stack

>  ForecastTimeHandler.stack (df:pandas.core.frame.DataFrame)

*Stack the forecast horizon as index and add forecast time as index*

We can stack the data to convert from forecast horizons as columns to
having forecast time as an index. This format is better suited for
scoring and plotting.

``` python
stacked_forecast = time_handler.stack(forecast)
stacked_forecast.head()
```

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&#10;    .dataframe tbody tr th {
        vertical-align: top;
    }
&#10;    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">pred</th>
</tr>
<tr>
<th data-quarto-table-cell-role="th">run_time</th>
<th data-quarto-table-cell-role="th">forecast_horizon</th>
<th data-quarto-table-cell-role="th">forecast_time</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr>
<td rowspan="3" data-quarto-table-cell-role="th"
data-valign="top">2023-01-01</td>
<td data-quarto-table-cell-role="th">t+1</td>
<td data-quarto-table-cell-role="th">2023-01-02</td>
<td>99.727885</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">t+2</td>
<td data-quarto-table-cell-role="th">2023-01-03</td>
<td>24.053605</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">t+3</td>
<td data-quarto-table-cell-role="th">2023-01-04</td>
<td>31.289456</td>
</tr>
<tr>
<td rowspan="2" data-quarto-table-cell-role="th"
data-valign="top">2023-01-02</td>
<td data-quarto-table-cell-role="th">t+1</td>
<td data-quarto-table-cell-role="th">2023-01-03</td>
<td>55.554807</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">t+2</td>
<td data-quarto-table-cell-role="th">2023-01-04</td>
<td>86.473046</td>
</tr>
</tbody>
</table>

</div>

------------------------------------------------------------------------

<a
href="https://github.com/iraind/omvs_senegal/blob/main/omvs_senegal/utils/time.py#L52"
target="_blank" style="float:right; font-size:smaller">source</a>

### ForecastTimeHandler.unstack

>  ForecastTimeHandler.unstack (df:pandas.core.frame.DataFrame)

*Convert stacked forecast horizon index back to horizon-as-columns
format*

We can simply revert this operation as follows

``` python
unstacked_forecast = time_handler.unstack(stacked_forecast)
unstacked_forecast.head()
```

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&#10;    .dataframe tbody tr th {
        vertical-align: top;
    }
&#10;    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr style="text-align: right;">
<th data-quarto-table-cell-role="th">forecast_horizon</th>
<th data-quarto-table-cell-role="th">t+1</th>
<th data-quarto-table-cell-role="th">t+2</th>
<th data-quarto-table-cell-role="th">t+3</th>
</tr>
<tr>
<th data-quarto-table-cell-role="th">run_time</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr>
<td data-quarto-table-cell-role="th">2023-01-01</td>
<td>99.727885</td>
<td>24.053605</td>
<td>31.289456</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">2023-01-02</td>
<td>55.554807</td>
<td>86.473046</td>
<td>59.983036</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">2023-01-03</td>
<td>39.305022</td>
<td>15.843067</td>
<td>66.079883</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">2023-01-04</td>
<td>30.784823</td>
<td>61.117817</td>
<td>88.114200</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">2023-01-05</td>
<td>68.896057</td>
<td>28.532566</td>
<td>15.283796</td>
</tr>
</tbody>
</table>

</div>

------------------------------------------------------------------------

<a
href="https://github.com/iraind/omvs_senegal/blob/main/omvs_senegal/utils/time.py#L56"
target="_blank" style="float:right; font-size:smaller">source</a>

### ForecastTimeHandler.align

>  ForecastTimeHandler.align (pred:pandas.core.frame.DataFrame,
>                                 obs:pandas.core.frame.DataFrame,
>                                 stack_pred:bool=True, how:str='left',
>                                 **kwargs)

*Align the predictions and observations by forecast time*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>pred</td>
<td>DataFrame</td>
<td></td>
<td>Predictions</td>
</tr>
<tr>
<td>obs</td>
<td>DataFrame</td>
<td></td>
<td>Observations</td>
</tr>
<tr>
<td>stack_pred</td>
<td>bool</td>
<td>True</td>
<td>Set to false if predictions already have forecast time as index</td>
</tr>
<tr>
<td>how</td>
<td>str</td>
<td>left</td>
<td>How to align the data</td>
</tr>
<tr>
<td>kwargs</td>
<td>VAR_KEYWORD</td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>tuple</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

This operation will rename the columns index name as “forecast_horizon”.
Lets try few more things we can do. We can align indexes:

``` python
aligned_frcst, aligned_obs = time_handler.align(forecast, observations, stack_pred=True)
aligned_frcst.head(3)
```

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&#10;    .dataframe tbody tr th {
        vertical-align: top;
    }
&#10;    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">pred</th>
</tr>
<tr>
<th data-quarto-table-cell-role="th">run_time</th>
<th data-quarto-table-cell-role="th">forecast_horizon</th>
<th data-quarto-table-cell-role="th">forecast_time</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr>
<td rowspan="3" data-quarto-table-cell-role="th"
data-valign="top">2023-01-01</td>
<td data-quarto-table-cell-role="th">t+1</td>
<td data-quarto-table-cell-role="th">2023-01-02</td>
<td>99.727885</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">t+2</td>
<td data-quarto-table-cell-role="th">2023-01-03</td>
<td>24.053605</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">t+3</td>
<td data-quarto-table-cell-role="th">2023-01-04</td>
<td>31.289456</td>
</tr>
</tbody>
</table>

</div>

``` python
aligned_obs.head(3)
```

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&#10;    .dataframe tbody tr th {
        vertical-align: top;
    }
&#10;    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">obs</th>
</tr>
<tr>
<th data-quarto-table-cell-role="th">run_time</th>
<th data-quarto-table-cell-role="th">forecast_horizon</th>
<th data-quarto-table-cell-role="th">forecast_time</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr>
<td rowspan="3" data-quarto-table-cell-role="th"
data-valign="top">2023-01-01</td>
<td data-quarto-table-cell-role="th">t+1</td>
<td data-quarto-table-cell-role="th">2023-01-02</td>
<td>NaN</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">t+2</td>
<td data-quarto-table-cell-role="th">2023-01-03</td>
<td>18.829447</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">t+3</td>
<td data-quarto-table-cell-role="th">2023-01-04</td>
<td>17.564888</td>
</tr>
</tbody>
</table>

</div>

------------------------------------------------------------------------

<a
href="https://github.com/iraind/omvs_senegal/blob/main/omvs_senegal/utils/time.py#L73"
target="_blank" style="float:right; font-size:smaller">source</a>

### ForecastTimeHandler.align_as_xarray

>  ForecastTimeHandler.align_as_xarray (pred:pandas.core.frame.DataFrame,
>                                           obs:pandas.core.frame.DataFrame,
>                                           stack_pred:bool=True,
>                                           how:str='left', **kwargs)

*Align the predictions and observations by forecast horizon and return
as xarray*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>pred</td>
<td>DataFrame</td>
<td></td>
<td>Predictions</td>
</tr>
<tr>
<td>obs</td>
<td>DataFrame</td>
<td></td>
<td>Observations</td>
</tr>
<tr>
<td>stack_pred</td>
<td>bool</td>
<td>True</td>
<td>Set to false if predictions already have forecast time as index</td>
</tr>
<tr>
<td>how</td>
<td>str</td>
<td>left</td>
<td>How to align the data</td>
</tr>
<tr>
<td>kwargs</td>
<td>VAR_KEYWORD</td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>tuple</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

We can do the same thing but getting an xarray datarrays as output.
Remember that in this case forcast data must be given with forecast
horizons as columns

``` python
forcast_ds, obs_ds = time_handler.align_as_xarray(forecast, observations)
forcast_ds
```

<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */
&#10;:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}
&#10;html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1f1f1f;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}
&#10;.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}
&#10;.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}
&#10;.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}
&#10;.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}
&#10;.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}
&#10;.xr-obj-type {
  color: var(--xr-font-color2);
}
&#10;.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}
&#10;.xr-section-item {
  display: contents;
}
&#10;.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}
&#10;.xr-section-item input + label {
  color: var(--xr-disabled-color);
}
&#10;.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}
&#10;.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0);
}
&#10;.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}
&#10;.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}
&#10;.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}
&#10;.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}
&#10;.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}
&#10;.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}
&#10;.xr-section-summary-in:checked + label:before {
  content: "▼";
}
&#10;.xr-section-summary-in:checked + label > span {
  display: none;
}
&#10;.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}
&#10;.xr-section-inline-details {
  grid-column: 2 / -1;
}
&#10;.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}
&#10;.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}
&#10;.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}
&#10;.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}
&#10;.xr-preview {
  color: var(--xr-font-color3);
}
&#10;.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}
&#10;.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}
&#10;.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}
&#10;.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}
&#10;.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}
&#10;.xr-dim-list:before {
  content: "(";
}
&#10;.xr-dim-list:after {
  content: ")";
}
&#10;.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}
&#10;.xr-has-index {
  font-weight: bold;
}
&#10;.xr-var-list,
.xr-var-item {
  display: contents;
}
&#10;.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}
&#10;.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}
&#10;.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}
&#10;.xr-var-name {
  grid-column: 1;
}
&#10;.xr-var-dims {
  grid-column: 2;
}
&#10;.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}
&#10;.xr-var-preview {
  grid-column: 4;
}
&#10;.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}
&#10;.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}
&#10;.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}
&#10;.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}
&#10;.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}
&#10;.xr-var-data > table {
  float: right;
}
&#10;.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}
&#10;.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}
&#10;dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}
&#10;.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}
&#10;.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}
&#10;.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}
&#10;.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}
&#10;.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;pred&#x27; (forecast_horizon: 3, run_time: 10)&gt; Size: 240B
array([[99.72788525, 55.55480681, 39.30502169, 30.78482329, 68.89605663,
        79.72856186, 62.07890179, 97.21806371, 91.59694962, 30.79350721],
       [24.05360513, 86.47304606, 15.84306704, 61.11781718, 28.53256563,
        24.72953579, 66.7879685 , 52.78458146, 79.66385079, 18.87182379],
       [31.28945581, 59.98303617, 66.07988317, 88.11419986, 15.28379592,
        19.63154885, 52.52554298, 95.3972403 , 81.32514287, 69.13172239]])
Coordinates:
  * run_time          (run_time) datetime64[ns] 80B 2023-01-01 ... 2023-01-10
  * forecast_horizon  (forecast_horizon) object 24B &#x27;t+1&#x27; &#x27;t+2&#x27; &#x27;t+3&#x27;</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'pred'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>forecast_horizon</span>: 3</li><li><span class='xr-has-index'>run_time</span>: 10</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-ced37ce9-70f8-4651-afe1-39f32ef3ec89' class='xr-array-in' type='checkbox' checked><label for='section-ced37ce9-70f8-4651-afe1-39f32ef3ec89' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>99.73 55.55 39.31 30.78 68.9 79.73 ... 19.63 52.53 95.4 81.33 69.13</span></div><div class='xr-array-data'><pre>array([[99.72788525, 55.55480681, 39.30502169, 30.78482329, 68.89605663,
        79.72856186, 62.07890179, 97.21806371, 91.59694962, 30.79350721],
       [24.05360513, 86.47304606, 15.84306704, 61.11781718, 28.53256563,
        24.72953579, 66.7879685 , 52.78458146, 79.66385079, 18.87182379],
       [31.28945581, 59.98303617, 66.07988317, 88.11419986, 15.28379592,
        19.63154885, 52.52554298, 95.3972403 , 81.32514287, 69.13172239]])</pre></div></div></li><li class='xr-section-item'><input id='section-508fa031-b57d-433f-b82f-f5d7e2ede0a8' class='xr-section-summary-in' type='checkbox'  checked><label for='section-508fa031-b57d-433f-b82f-f5d7e2ede0a8' class='xr-section-summary' >Coordinates: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>run_time</span></div><div class='xr-var-dims'>(run_time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2023-01-01 ... 2023-01-10</div><input id='attrs-80445438-f7c3-44cf-bd0b-ab0e5e95a321' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-80445438-f7c3-44cf-bd0b-ab0e5e95a321' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4a967a5f-65ba-4a8b-9038-d87cc2f8a6ee' class='xr-var-data-in' type='checkbox'><label for='data-4a967a5f-65ba-4a8b-9038-d87cc2f8a6ee' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2023-01-01T00:00:00.000000000&#x27;, &#x27;2023-01-02T00:00:00.000000000&#x27;,
       &#x27;2023-01-03T00:00:00.000000000&#x27;, &#x27;2023-01-04T00:00:00.000000000&#x27;,
       &#x27;2023-01-05T00:00:00.000000000&#x27;, &#x27;2023-01-06T00:00:00.000000000&#x27;,
       &#x27;2023-01-07T00:00:00.000000000&#x27;, &#x27;2023-01-08T00:00:00.000000000&#x27;,
       &#x27;2023-01-09T00:00:00.000000000&#x27;, &#x27;2023-01-10T00:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>forecast_horizon</span></div><div class='xr-var-dims'>(forecast_horizon)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>&#x27;t+1&#x27; &#x27;t+2&#x27; &#x27;t+3&#x27;</div><input id='attrs-d145726a-76bb-47d8-b6da-dbfd2ec9c234' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-d145726a-76bb-47d8-b6da-dbfd2ec9c234' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-70fa9a2a-6ddf-4c05-b0ef-f95ce3969792' class='xr-var-data-in' type='checkbox'><label for='data-70fa9a2a-6ddf-4c05-b0ef-f95ce3969792' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;t+1&#x27;, &#x27;t+2&#x27;, &#x27;t+3&#x27;], dtype=object)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-96e9dd89-4b30-461b-b876-cdfb8a5cb86f' class='xr-section-summary-in' type='checkbox'  ><label for='section-96e9dd89-4b30-461b-b876-cdfb8a5cb86f' class='xr-section-summary' >Indexes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>run_time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-3fbd77d4-9c80-46a8-8d05-e8d6be8490b2' class='xr-index-data-in' type='checkbox'/><label for='index-3fbd77d4-9c80-46a8-8d05-e8d6be8490b2' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2023-01-01&#x27;, &#x27;2023-01-02&#x27;, &#x27;2023-01-03&#x27;, &#x27;2023-01-04&#x27;,
               &#x27;2023-01-05&#x27;, &#x27;2023-01-06&#x27;, &#x27;2023-01-07&#x27;, &#x27;2023-01-08&#x27;,
               &#x27;2023-01-09&#x27;, &#x27;2023-01-10&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;run_time&#x27;, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>forecast_horizon</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-bdde7a79-2851-448f-803b-ef9259222934' class='xr-index-data-in' type='checkbox'/><label for='index-bdde7a79-2851-448f-803b-ef9259222934' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;t+1&#x27;, &#x27;t+2&#x27;, &#x27;t+3&#x27;], dtype=&#x27;object&#x27;, name=&#x27;forecast_horizon&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-0d8de924-3ed9-440b-a66c-726a6d192253' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-0d8de924-3ed9-440b-a66c-726a6d192253' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>

``` python
obs_ds
```

<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */
&#10;:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}
&#10;html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1f1f1f;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}
&#10;.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}
&#10;.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}
&#10;.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}
&#10;.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}
&#10;.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}
&#10;.xr-obj-type {
  color: var(--xr-font-color2);
}
&#10;.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}
&#10;.xr-section-item {
  display: contents;
}
&#10;.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}
&#10;.xr-section-item input + label {
  color: var(--xr-disabled-color);
}
&#10;.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}
&#10;.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0);
}
&#10;.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}
&#10;.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}
&#10;.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}
&#10;.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}
&#10;.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}
&#10;.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}
&#10;.xr-section-summary-in:checked + label:before {
  content: "▼";
}
&#10;.xr-section-summary-in:checked + label > span {
  display: none;
}
&#10;.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}
&#10;.xr-section-inline-details {
  grid-column: 2 / -1;
}
&#10;.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}
&#10;.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}
&#10;.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}
&#10;.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}
&#10;.xr-preview {
  color: var(--xr-font-color3);
}
&#10;.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}
&#10;.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}
&#10;.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}
&#10;.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}
&#10;.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}
&#10;.xr-dim-list:before {
  content: "(";
}
&#10;.xr-dim-list:after {
  content: ")";
}
&#10;.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}
&#10;.xr-has-index {
  font-weight: bold;
}
&#10;.xr-var-list,
.xr-var-item {
  display: contents;
}
&#10;.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}
&#10;.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}
&#10;.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}
&#10;.xr-var-name {
  grid-column: 1;
}
&#10;.xr-var-dims {
  grid-column: 2;
}
&#10;.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}
&#10;.xr-var-preview {
  grid-column: 4;
}
&#10;.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}
&#10;.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}
&#10;.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}
&#10;.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}
&#10;.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}
&#10;.xr-var-data > table {
  float: right;
}
&#10;.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}
&#10;.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}
&#10;dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}
&#10;.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}
&#10;.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}
&#10;.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}
&#10;.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}
&#10;.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;obs&#x27; (forecast_horizon: 3, run_time: 10)&gt; Size: 240B
array([[        nan, 18.82944742, 17.56488779, 10.3552448 , 45.56872661,
        58.71988735, 57.17550098, 21.34079622, 83.68233322, 74.73807991],
       [18.82944742, 17.56488779, 10.3552448 , 45.56872661, 58.71988735,
        57.17550098, 21.34079622, 83.68233322, 74.73807991, 38.41755211],
       [17.56488779, 10.3552448 , 45.56872661, 58.71988735, 57.17550098,
        21.34079622, 83.68233322, 74.73807991, 38.41755211, 98.01940095]])
Coordinates:
  * run_time          (run_time) datetime64[ns] 80B 2023-01-01 ... 2023-01-10
  * forecast_horizon  (forecast_horizon) object 24B &#x27;t+1&#x27; &#x27;t+2&#x27; &#x27;t+3&#x27;</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'obs'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>forecast_horizon</span>: 3</li><li><span class='xr-has-index'>run_time</span>: 10</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-76d2228a-bf4e-4b22-b985-123d52285cbb' class='xr-array-in' type='checkbox' checked><label for='section-76d2228a-bf4e-4b22-b985-123d52285cbb' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>nan 18.83 17.56 10.36 45.57 58.72 ... 21.34 83.68 74.74 38.42 98.02</span></div><div class='xr-array-data'><pre>array([[        nan, 18.82944742, 17.56488779, 10.3552448 , 45.56872661,
        58.71988735, 57.17550098, 21.34079622, 83.68233322, 74.73807991],
       [18.82944742, 17.56488779, 10.3552448 , 45.56872661, 58.71988735,
        57.17550098, 21.34079622, 83.68233322, 74.73807991, 38.41755211],
       [17.56488779, 10.3552448 , 45.56872661, 58.71988735, 57.17550098,
        21.34079622, 83.68233322, 74.73807991, 38.41755211, 98.01940095]])</pre></div></div></li><li class='xr-section-item'><input id='section-73ced7df-8ca1-45aa-88d6-a1a765f53da8' class='xr-section-summary-in' type='checkbox'  checked><label for='section-73ced7df-8ca1-45aa-88d6-a1a765f53da8' class='xr-section-summary' >Coordinates: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>run_time</span></div><div class='xr-var-dims'>(run_time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2023-01-01 ... 2023-01-10</div><input id='attrs-217bedc4-624e-4e70-8414-ab80328b1262' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-217bedc4-624e-4e70-8414-ab80328b1262' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a0a45563-95c7-4f3c-8724-aecea41e27c3' class='xr-var-data-in' type='checkbox'><label for='data-a0a45563-95c7-4f3c-8724-aecea41e27c3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2023-01-01T00:00:00.000000000&#x27;, &#x27;2023-01-02T00:00:00.000000000&#x27;,
       &#x27;2023-01-03T00:00:00.000000000&#x27;, &#x27;2023-01-04T00:00:00.000000000&#x27;,
       &#x27;2023-01-05T00:00:00.000000000&#x27;, &#x27;2023-01-06T00:00:00.000000000&#x27;,
       &#x27;2023-01-07T00:00:00.000000000&#x27;, &#x27;2023-01-08T00:00:00.000000000&#x27;,
       &#x27;2023-01-09T00:00:00.000000000&#x27;, &#x27;2023-01-10T00:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>forecast_horizon</span></div><div class='xr-var-dims'>(forecast_horizon)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>&#x27;t+1&#x27; &#x27;t+2&#x27; &#x27;t+3&#x27;</div><input id='attrs-43bf013a-07d1-4ea1-a886-d35074986c02' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-43bf013a-07d1-4ea1-a886-d35074986c02' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-dc5e093c-fa34-45cc-a8e1-d705e2a436eb' class='xr-var-data-in' type='checkbox'><label for='data-dc5e093c-fa34-45cc-a8e1-d705e2a436eb' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;t+1&#x27;, &#x27;t+2&#x27;, &#x27;t+3&#x27;], dtype=object)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-336bd344-8352-4cb3-ab82-ec5e8782929e' class='xr-section-summary-in' type='checkbox'  ><label for='section-336bd344-8352-4cb3-ab82-ec5e8782929e' class='xr-section-summary' >Indexes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>run_time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-027a8e9a-7543-49f7-af30-ab98337f22ab' class='xr-index-data-in' type='checkbox'/><label for='index-027a8e9a-7543-49f7-af30-ab98337f22ab' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2023-01-01&#x27;, &#x27;2023-01-02&#x27;, &#x27;2023-01-03&#x27;, &#x27;2023-01-04&#x27;,
               &#x27;2023-01-05&#x27;, &#x27;2023-01-06&#x27;, &#x27;2023-01-07&#x27;, &#x27;2023-01-08&#x27;,
               &#x27;2023-01-09&#x27;, &#x27;2023-01-10&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;run_time&#x27;, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>forecast_horizon</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-cdc3f918-d76b-44a2-8fad-8d37654d6dec' class='xr-index-data-in' type='checkbox'/><label for='index-cdc3f918-d76b-44a2-8fad-8d37654d6dec' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;t+1&#x27;, &#x27;t+2&#x27;, &#x27;t+3&#x27;], dtype=&#x27;object&#x27;, name=&#x27;forecast_horizon&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-138effde-56b0-48e4-9cc2-57d8ebb56ca7' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-138effde-56b0-48e4-9cc2-57d8ebb56ca7' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>

------------------------------------------------------------------------

<a
href="https://github.com/iraind/omvs_senegal/blob/main/omvs_senegal/utils/time.py#L98"
target="_blank" style="float:right; font-size:smaller">source</a>

### ForecastTimeHandler.join

>  ForecastTimeHandler.join (pred:pandas.core.frame.DataFrame,
>                                obs:pandas.core.frame.DataFrame,
>                                stack_pred:bool=True, **kwargs)

*Join the predictions and observations by forecast time*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>pred</td>
<td>DataFrame</td>
<td></td>
<td>Predictions</td>
</tr>
<tr>
<td>obs</td>
<td>DataFrame</td>
<td></td>
<td>Observations</td>
</tr>
<tr>
<td>stack_pred</td>
<td>bool</td>
<td>True</td>
<td>Set to false if predictions already have forecast time as index</td>
</tr>
<tr>
<td>kwargs</td>
<td>VAR_KEYWORD</td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>DataFrame</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

Finally we can also join the data by forecast time index

``` python
joint = time_handler.join(forecast, observations, stack_pred=True)
joint.head(3)
```

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&#10;    .dataframe tbody tr th {
        vertical-align: top;
    }
&#10;    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">pred</th>
<th data-quarto-table-cell-role="th">obs</th>
</tr>
<tr>
<th data-quarto-table-cell-role="th">run_time</th>
<th data-quarto-table-cell-role="th">forecast_horizon</th>
<th data-quarto-table-cell-role="th">forecast_time</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr>
<td rowspan="3" data-quarto-table-cell-role="th"
data-valign="top">2023-01-01</td>
<td data-quarto-table-cell-role="th">t+1</td>
<td data-quarto-table-cell-role="th">2023-01-02</td>
<td>99.727885</td>
<td>NaN</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">t+2</td>
<td data-quarto-table-cell-role="th">2023-01-03</td>
<td>24.053605</td>
<td>18.829447</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">t+3</td>
<td data-quarto-table-cell-role="th">2023-01-04</td>
<td>31.289456</td>
<td>17.564888</td>
</tr>
</tbody>
</table>

</div>

------------------------------------------------------------------------

<a
href="https://github.com/iraind/omvs_senegal/blob/main/omvs_senegal/utils/time.py#L112"
target="_blank" style="float:right; font-size:smaller">source</a>

### ForecastTimeHandler.join_as_xarray

>  ForecastTimeHandler.join_as_xarray (pred:pandas.core.frame.DataFrame,
>                                          obs:pandas.core.frame.DataFrame,
>                                          stack_pred:bool=True, **kwargs)

*Align the predictions and observations by forecast horizon and join
them as xarray*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>pred</td>
<td>DataFrame</td>
<td></td>
<td>Predictions</td>
</tr>
<tr>
<td>obs</td>
<td>DataFrame</td>
<td></td>
<td>Observations</td>
</tr>
<tr>
<td>stack_pred</td>
<td>bool</td>
<td>True</td>
<td>Set to false if predictions already have forecast time as index</td>
</tr>
<tr>
<td>kwargs</td>
<td>VAR_KEYWORD</td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>DataArray</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

And do the same thing and get a xarray dataset as output

``` python
time_handler.join_as_xarray(forecast, observations)
```

<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */
&#10;:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}
&#10;html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1f1f1f;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}
&#10;.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}
&#10;.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}
&#10;.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}
&#10;.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}
&#10;.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}
&#10;.xr-obj-type {
  color: var(--xr-font-color2);
}
&#10;.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}
&#10;.xr-section-item {
  display: contents;
}
&#10;.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}
&#10;.xr-section-item input + label {
  color: var(--xr-disabled-color);
}
&#10;.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}
&#10;.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0);
}
&#10;.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}
&#10;.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}
&#10;.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}
&#10;.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}
&#10;.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}
&#10;.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}
&#10;.xr-section-summary-in:checked + label:before {
  content: "▼";
}
&#10;.xr-section-summary-in:checked + label > span {
  display: none;
}
&#10;.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}
&#10;.xr-section-inline-details {
  grid-column: 2 / -1;
}
&#10;.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}
&#10;.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}
&#10;.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}
&#10;.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}
&#10;.xr-preview {
  color: var(--xr-font-color3);
}
&#10;.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}
&#10;.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}
&#10;.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}
&#10;.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}
&#10;.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}
&#10;.xr-dim-list:before {
  content: "(";
}
&#10;.xr-dim-list:after {
  content: ")";
}
&#10;.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}
&#10;.xr-has-index {
  font-weight: bold;
}
&#10;.xr-var-list,
.xr-var-item {
  display: contents;
}
&#10;.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}
&#10;.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}
&#10;.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}
&#10;.xr-var-name {
  grid-column: 1;
}
&#10;.xr-var-dims {
  grid-column: 2;
}
&#10;.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}
&#10;.xr-var-preview {
  grid-column: 4;
}
&#10;.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}
&#10;.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}
&#10;.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}
&#10;.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}
&#10;.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}
&#10;.xr-var-data > table {
  float: right;
}
&#10;.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}
&#10;.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}
&#10;dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}
&#10;.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}
&#10;.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}
&#10;.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}
&#10;.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}
&#10;.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray (forecast_horizon: 3, run_time: 10)&gt; Size: 240B
array([[99.72788525, 55.55480681, 39.30502169, 30.78482329, 68.89605663,
        79.72856186, 62.07890179, 97.21806371, 91.59694962, 30.79350721],
       [24.05360513, 86.47304606, 15.84306704, 61.11781718, 28.53256563,
        24.72953579, 66.7879685 , 52.78458146, 79.66385079, 18.87182379],
       [31.28945581, 59.98303617, 66.07988317, 88.11419986, 15.28379592,
        19.63154885, 52.52554298, 95.3972403 , 81.32514287, 69.13172239]])
Coordinates:
  * run_time          (run_time) datetime64[ns] 80B 2023-01-01 ... 2023-01-10
  * forecast_horizon  (forecast_horizon) object 24B &#x27;t+1&#x27; &#x27;t+2&#x27; &#x27;t+3&#x27;</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'></div><ul class='xr-dim-list'><li><span class='xr-has-index'>forecast_horizon</span>: 3</li><li><span class='xr-has-index'>run_time</span>: 10</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-fe394c57-112e-4230-a123-5e849c777993' class='xr-array-in' type='checkbox' checked><label for='section-fe394c57-112e-4230-a123-5e849c777993' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>99.73 55.55 39.31 30.78 68.9 79.73 ... 19.63 52.53 95.4 81.33 69.13</span></div><div class='xr-array-data'><pre>array([[99.72788525, 55.55480681, 39.30502169, 30.78482329, 68.89605663,
        79.72856186, 62.07890179, 97.21806371, 91.59694962, 30.79350721],
       [24.05360513, 86.47304606, 15.84306704, 61.11781718, 28.53256563,
        24.72953579, 66.7879685 , 52.78458146, 79.66385079, 18.87182379],
       [31.28945581, 59.98303617, 66.07988317, 88.11419986, 15.28379592,
        19.63154885, 52.52554298, 95.3972403 , 81.32514287, 69.13172239]])</pre></div></div></li><li class='xr-section-item'><input id='section-7f73dcc9-b187-4f20-8aa8-7f6ca2f2f9d5' class='xr-section-summary-in' type='checkbox'  checked><label for='section-7f73dcc9-b187-4f20-8aa8-7f6ca2f2f9d5' class='xr-section-summary' >Coordinates: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>run_time</span></div><div class='xr-var-dims'>(run_time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2023-01-01 ... 2023-01-10</div><input id='attrs-304eea69-bd29-4464-aeb8-0db938d4e249' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-304eea69-bd29-4464-aeb8-0db938d4e249' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d8e588dc-45dd-4c38-b4bb-46292524545b' class='xr-var-data-in' type='checkbox'><label for='data-d8e588dc-45dd-4c38-b4bb-46292524545b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2023-01-01T00:00:00.000000000&#x27;, &#x27;2023-01-02T00:00:00.000000000&#x27;,
       &#x27;2023-01-03T00:00:00.000000000&#x27;, &#x27;2023-01-04T00:00:00.000000000&#x27;,
       &#x27;2023-01-05T00:00:00.000000000&#x27;, &#x27;2023-01-06T00:00:00.000000000&#x27;,
       &#x27;2023-01-07T00:00:00.000000000&#x27;, &#x27;2023-01-08T00:00:00.000000000&#x27;,
       &#x27;2023-01-09T00:00:00.000000000&#x27;, &#x27;2023-01-10T00:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>forecast_horizon</span></div><div class='xr-var-dims'>(forecast_horizon)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>&#x27;t+1&#x27; &#x27;t+2&#x27; &#x27;t+3&#x27;</div><input id='attrs-8cc98aa0-41df-4fbe-b600-ddce8380fe56' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-8cc98aa0-41df-4fbe-b600-ddce8380fe56' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6779248b-bf05-4816-b4f3-1b753fbd093b' class='xr-var-data-in' type='checkbox'><label for='data-6779248b-bf05-4816-b4f3-1b753fbd093b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;t+1&#x27;, &#x27;t+2&#x27;, &#x27;t+3&#x27;], dtype=object)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-d986b4e8-62f2-4cff-bef1-64c30c374c98' class='xr-section-summary-in' type='checkbox'  ><label for='section-d986b4e8-62f2-4cff-bef1-64c30c374c98' class='xr-section-summary' >Indexes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>run_time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-9717bae9-86de-4460-80e2-220b3085392f' class='xr-index-data-in' type='checkbox'/><label for='index-9717bae9-86de-4460-80e2-220b3085392f' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2023-01-01&#x27;, &#x27;2023-01-02&#x27;, &#x27;2023-01-03&#x27;, &#x27;2023-01-04&#x27;,
               &#x27;2023-01-05&#x27;, &#x27;2023-01-06&#x27;, &#x27;2023-01-07&#x27;, &#x27;2023-01-08&#x27;,
               &#x27;2023-01-09&#x27;, &#x27;2023-01-10&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;run_time&#x27;, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>forecast_horizon</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-aa8caf54-8d07-41cc-8d4a-c73d02b31991' class='xr-index-data-in' type='checkbox'/><label for='index-aa8caf54-8d07-41cc-8d4a-c73d02b31991' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;t+1&#x27;, &#x27;t+2&#x27;, &#x27;t+3&#x27;], dtype=&#x27;object&#x27;, name=&#x27;forecast_horizon&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-8e951844-9bcc-4a8a-9e1e-a1649673697b' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-8e951844-9bcc-4a8a-9e1e-a1649673697b' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>
